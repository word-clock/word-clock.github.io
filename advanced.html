<html>
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46248924-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'UA-46248924-1');
        </script>
        <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet">
        <!-- https://css-tricks.com/books/fundamental-css-tactics/scale-typography-screen-size/ -->
        <style>
            body {
                background-color: black;
                color: #333;
                font-family: 'Fira Mono',monospace;
                font-size: calc(14px + (18 - 14) * ((600vw - 300px) / (1600 - 300)));
                line-height: calc(1.3em + (1.5 - 1.2) * ((600vw - 300px) / (1600 - 300)));
                letter-spacing: calc(0.8em + (1.5 - 1.2) * ((600vw - 300px) / (1600 - 300)));
                white-space: nowrap
            }

            .flex {
                display: flex
            }

            .flex-center {
                align-items: center;
                flex-direction: column;
                justify-content: center
            }

            .word-active {
                color: whitesmoke
            }
        </style>
    </head>
    <body>
        <div class="flex flex-center">
            <div class="row-one">
                <span>
                    THEBTIMERISEHALF
                </span>
            </div>
            <div class="row-two">
                <span>
                    QUARTERTWENTYTTX
                </span>
            </div>
            <div class="row-three">
                <span>
                    TENSIXTEENTWONEL
                </span>
            </div>
            <div class="row-four">
                <span>
                    EIGHTEENFIVERXXX
                </span>
            </div>
            <div class="row-five">
                <span>
                    SEVENTEENINETEEN
                </span>
            </div>
            <div class="row-six">
                <span>
                    FOURTEENTHIRTEEN
                </span>
            </div>
            <div class="row-seven">
                <span>
                    TWELVELEVENTHREE
                </span>
            </div>
            <div class="row-eight">
                <span>
                    MINUTESXPASTOWOR
                </span>
            </div>
            <div class="row-nine">
                <span>
                    TWONELEVENINESIX
                </span>
            </div>
            <div class="row-ten">
                <span>
                    SEVENTHREETWELVE
                </span>
            </div>
            <div class="row-eleven">
                <span>
                    FOURXFIVEIGHTEND
                </span>
            </div>
            <div class="row-twelve">
                <span>
                    OCLOCKXINATX2020
                </span>
            </div>
            <div class="row-thirteen">
                <span>
                    NIGHTHEXMORNINGX
                </span>
            </div>
            <div class="row-fourteen">
                <span>
                    EVENINGAFTERNOON
                </span>
            </div>
            <div class="row-fifteen">
                <span>
                    PIRXONXOFFXXSYNC
                </span>
            </div>
            <div class="row-sixteen">
                <span>
                    0123450123456789
                </span>
            </div>
        </div>
        <script>
            (function() {
                // setInterval(execute, 1000);
                function execute() {
                    const now = new Date(Date.now());
                    const hour = now.getHours();
                    const minute = now.getMinutes();
                    activate(['.row-one .word-it']);
                    activate(['.row-one .word-is']);
                    setHour(hour, minute);
                    setMinute(minute);
                }
                function setHour(currentHour, currentMinute) {
                    currentHour = (currentHour + (currentMinute >= 30 ? 1 : 0)) % 12;
                    const previousHour = currentHour === 0 ? 11 : currentHour - 1;
                    const previousHourSelectors = getSelectorsForHour(previousHour);
                    const hourSelectors = getSelectorsForHour(currentHour);
                    deactivate(previousHourSelectors);
                    activate(hourSelectors);
                }
                function getSelectorsForHour(value) {
                    switch (value) {
                    case 0:
                        return ['.row-nine .word-twelve'];
                    case 1:
                        return ['.row-six .word-one'];
                    case 2:
                        return ['.row-seven .word-two'];
                    case 3:
                        return ['.row-six .word-three'];
                    case 4:
                        return ['.row-seven .word-four'];
                    case 5:
                        return ['.row-seven .word-five'];
                    case 6:
                        return ['.row-six .word-six'];
                    case 7:
                        return ['.row-nine .word-seven'];
                    case 8:
                        return ['.row-eight .word-eight'];
                    case 9:
                        return ['.row-five .word-nine'];
                    case 10:
                        return ['.row-ten .word-ten'];
                    case 11:
                        return ['.row-eight .word-eleven'];
                    }
                }
                function setMinute(currentMinute) {
                    currentMinute = currentMinute - (currentMinute % 5);
                    const previousMinute = currentMinute === 0 ? 55 : currentMinute - 5;
                    const previousMinuteSelectors = getSelectorsForMinute(previousMinute);
                    const minuteSelectors = getSelectorsForMinute(currentMinute);
                    deactivate(previousMinuteSelectors);
                    activate(minuteSelectors);
                }
                function getSelectorsForMinute(value) {
                    switch (value) {
                    case 0:
                        return ['.row-ten .word-oclock'];
                    case 5:
                        return ['.row-three .word-five', '.row-five .word-past'];
                    case 10:
                        return ['.row-four .word-ten', '.row-five .word-past'];
                    case 15:
                        return ['.row-two .word-a', '.row-two .word-quarter', '.row-five .word-past'];
                    case 20:
                        return ['.row-three .word-twenty', '.row-five .word-past'];
                    case 25:
                        return ['.row-three .word-twenty', '.row-three .word-five', '.row-five .word-past'];
                    case 30:
                        return ['.row-four .word-half', '.row-five .word-past'];
                    case 35:
                        return ['.row-three .word-twenty', '.row-three .word-five', '.row-four .word-to'];
                    case 40:
                        return ['.row-three .word-twenty', '.row-four .word-to'];
                    case 45:
                        return ['.row-two .word-a', '.row-two .word-quarter', '.row-four .word-to'];
                    case 50:
                        return ['.row-four .word-ten', '.row-four .word-to'];
                    case 55:
                        return ['.row-three .word-five', '.row-four .word-to'];
                    }
                }
                function activate(selectors) {
                    selectors.forEach(selector=>document.querySelector(selector).classList.add('word-active'));
                }
                function deactivate(selectors) {
                    selectors.forEach(selector=>document.querySelector(selector).classList.remove('word-active'));
                }
            }
            )();
        </script>
    </body>
</html>
